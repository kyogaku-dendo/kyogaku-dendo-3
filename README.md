# 驚額の殿堂3

## 開発フローと Git の使い方

このプロジェクトでの開発の流れと Git コマンドについて説明します。

### 基本的な開発の流れ

#### 1. 最新の状態を取得する

作業を始める前に、必ず main ブランチの最新状態を取得しましょう。

```bash
# mainブランチに切り替える
git switch main

# 最新の変更を取得する
git pull
```

#### 2. 新しいブランチを作成する

機能追加や修正は、必ず新しいブランチを作って行います。

```bash
# 新しいブランチを作成して切り替える
git switch -c feature/機能名

# 例: ヘッダー機能を追加する場合
git switch -c feature/add-header
```

**ブランチ名の付け方のコツ:**

- `feature/〇〇` - 新機能追加の場合
- `fix/〇〇` - バグ修正の場合
- `update/〇〇` - 既存機能の更新の場合

#### 3. コードを書いて保存する

エディタでコードを書いて、ファイルを保存します。

#### 4. 変更内容を確認する

```bash
# 何が変更されたか確認する
git status

# 具体的な変更内容を見る
git diff
```

#### 5. 変更をステージングする

変更したファイルを「コミット候補」として登録します。

```bash
# すべての変更をステージングする
git add .

# 特定のファイルだけステージングする
git add ファイル名
```

#### 6. コミットする

ステージングした変更を記録します。コミットメッセージは何を変更したか分かりやすく書きましょう。

**コミットメッセージは prefix を付けることを推奨します:**

```bash
git commit -m "feat: ヘッダーコンポーネントを追加"
```

**Prefix の種類:**

| Prefix      | 意味                                           | 使用例                                  |
| ----------- | ---------------------------------------------- | --------------------------------------- |
| `feat:`     | 新機能の追加                                   | `feat: ログイン機能を追加`              |
| `fix:`      | バグ修正                                       | `fix: ログアウト時のエラーを修正`       |
| `docs:`     | ドキュメントの変更                             | `docs: README にセットアップ手順を追記` |
| `style:`    | コードのフォーマット（動作に影響しない変更）   | `style: インデントを修正`               |
| `refactor:` | リファクタリング（機能追加もバグ修正でもない） | `refactor: 関数を分割して整理`          |
| `test:`     | テストの追加・修正                             | `test: ログイン機能のテストを追加`      |
| `chore:`    | ビルドやツールの設定変更                       | `chore: パッケージを更新`               |

**良いコミットメッセージの例:**

- ✅ `feat: ユーザー登録 API を追加`
- ✅ `fix: ログイン画面のレイアウトを修正`
- ✅ `docs: README.md にセットアップ手順を追記`
- ✅ `style: コードのインデントを統一`
- ❌ `修正` (何を修正したか不明、prefix もない)
- ❌ `aaa` (内容が分からない)

#### 7. リモートにプッシュする

自分のコミットを GitHub 上に送信します。

```bash
# 初回のプッシュ（ブランチを作った後の最初のプッシュ）
git push -u origin feature/機能名

# 2回目以降のプッシュ
git push
```

#### 8. プルリクエストを作成する

GitHub のウェブサイトで、自分の変更を main ブランチに取り込んでもらうためのプルリクエスト（PR）を作成します。

#### 9. レビュー後、マージする

レビューが完了したら、GitHub のウェブサイトでマージボタンを押します。

#### 10. 作業完了後、main ブランチに戻る

```bash
# mainブランチに切り替える
git switch main

# 最新の状態を取得する（他の人の変更も含む）
git pull
```

### よく使うコマンド一覧

| コマンド                        | 説明                               |
| ------------------------------- | ---------------------------------- |
| `git status`                    | 現在の状態を確認する               |
| `git switch ブランチ名`         | ブランチを切り替える               |
| `git switch -c ブランチ名`      | 新しいブランチを作成して切り替える |
| `git add .`                     | すべての変更をステージングする     |
| `git add ファイル名`            | 特定のファイルをステージングする   |
| `git commit -m "メッセージ"`    | コミットする                       |
| `git push`                      | リモートにプッシュする             |
| `git push -u origin ブランチ名` | 初回プッシュ（ブランチを作った後） |
| `git pull`                      | リモートから最新の変更を取得する   |
| `git diff`                      | 変更内容を確認する                 |
| `git log`                       | コミット履歴を見る                 |

### 困ったときは

#### 間違えてコミットした場合

```bash
# 直前のコミットを取り消す（変更内容は残る）
git reset --soft HEAD^
```

#### 変更を全部破棄したい場合

```bash
# まだaddしていない変更を全部破棄する（注意: 元に戻せません！）
git checkout .
```

#### 現在どのブランチにいるか分からない場合

```bash
git branch
# 現在のブランチに * がつきます
```

### Tips

- 作業を始める前は必ず `git pull` で最新の状態にする
- 小さい単位でこまめにコミットする
- コミットメッセージは分かりやすく書く
- 作業が終わったらブランチを削除しても良い（GitHub でマージ後に削除できます）

---

何か分からないことがあったら、気軽に聞いてください！
